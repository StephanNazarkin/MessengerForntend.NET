@{
    Layout = null;
}

@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration

<div class="modal-header">
	<h5 class="modal-title" id="searchModalLabel">Users</h5>
	<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>

<div class="modal-body">
    @foreach (var user in ViewBag.AllUsers)
            {
            @if (ViewBag.CurrentUser.Id != user.Id)
                {
                    <div class="d-flex justify-content-between align-items-center border-top border-bottom p-1">
                        <p class="m-0">
                            <img src="@(Configuration["Api"] + user.Image.Path)" alt="image" class = "img-thumbnail rounded-circle flex-shrink-0 me-1" style="width: 49px; height: 49px; object-fit: cover;">
                            @user.UserName
                        </p>
                        <div>
                            @Html.ActionLink(
                                "Block User",
                                "BlockUser",
                                "Account",
                                new {
                                    userId = @user.Id
                                },
                                new Dictionary<string, object>{
                                    {"class","btn btn-primary"}
                                }

                            )

                            @Html.ActionLink(
                                "Add Friend",
                                "AddFriend",
                                "Account",
                                new {
                                    userId = @user.Id
                                },
                                new Dictionary<string, object>{
                                    {"class","btn btn-primary"}
                                }

                            )
                        </div>
                    </div>
                }

            }
</div>
<div class="modal-footer">
	<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
	<button type="sumbit" class="btn btn-primary" style="float: right;">Search</button>
</div>